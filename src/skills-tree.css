/* =========================
   SKILL TREE GIGANTE (OVERRIDES)
   ========================= */

#panelSkills {
    width: min(1220px, 96vw);
}

.skillsToolbar {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: end;
    justify-content: space-between;
    margin-bottom: 12px;
}

.skillsToolbar__left {
    display: flex;
    gap: 10px;
    align-items: end;
    min-width: 220px;
    flex: 1;
}

.skillsToolbar__right {
    display: flex;
    gap: 10px;
    align-items: center;
}

.skillsSearch {
    display: grid;
    gap: 6px;
    min-width: min(460px, 100%);
    position: relative;
}

.skillsSearch__label {
    font-size: 10px;
    letter-spacing: 0.12em;
    opacity: 0.75;
}

.skillsSearch__input {
    width: 100%;
    border-radius: 14px;
    padding: 10px 12px;
    border: 1px solid rgba(255, 255, 255, 0.14);
    background: rgba(0, 0, 0, 0.35);
    color: rgba(255, 255, 255, 0.92);
    outline: none;
}

.skillsSearch__input:focus {
    border-color: rgba(39, 243, 255, 0.28);
    box-shadow: 0 0 0 1px rgba(39, 243, 255, 0.12) inset;
}

.skillsSearchResults {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    z-index: 5;
    border-radius: 16px;
    background: rgba(0, 0, 0, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.14);
    box-shadow: 0 30px 90px rgba(0, 0, 0, 0.55);
    overflow: hidden;
}

.skillsSearchResults.hidden {
    display: none !important;
}

.skillsSearchResults__item {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    cursor: pointer;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.skillsSearchResults__item:hover {
    background: rgba(255, 255, 255, 0.06);
}

.skillsSearchResults__meta {
    display: flex;
    gap: 10px;
    align-items: center;
    opacity: 0.9;
    font-size: 10px;
}

.skillsSearchResults__tag {
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.14);
    background: rgba(255, 255, 255, 0.06);
    letter-spacing: 0.08em;
}

.legendDot--k {
    background: rgba(255, 43, 214, 0.75);
    box-shadow: 0 0 14px rgba(255, 43, 214, 0.25);
}

/* Layout: dá mais área pro mapa */
.skillsLayout {
    grid-template-columns: 1.85fr 1fr;
}

/* viewport do mapa */
.skillsTreeWrap {
    position: relative;
    min-height: 520px;
    height: min(62vh, 720px);
    overflow: hidden;
    cursor: grab;
}

.skillsTreeWrap:active {
    cursor: grabbing;
}

/* estrelas / constelação no fundo */
.skillsTreeWrap::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(900px 600px at 70% 15%, rgba(39, 243, 255, 0.12), transparent 60%),
        radial-gradient(900px 650px at 20% 80%, rgba(255, 43, 214, 0.10), transparent 62%),
        radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.25) 50%, transparent 55%),
        radial-gradient(1px 1px at 60% 20%, rgba(255, 255, 255, 0.18) 50%, transparent 55%),
        radial-gradient(1px 1px at 80% 70%, rgba(255, 255, 255, 0.16) 50%, transparent 55%),
        radial-gradient(1px 1px at 35% 85%, rgba(255, 255, 255, 0.12) 50%, transparent 55%);
    opacity: 0.95;
}

/* stage que recebe translate/scale */
.skillsStage {
    position: absolute;
    left: 0;
    top: 0;
    transform-origin: 0 0;
    will-change: transform;
}

/* O SVG agora é “do tamanho do stage” */
.skillsLines {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0.95;
}

/* grid vira “camada” absoluta */
.skillsGrid {
    position: absolute !important;
    inset: 0;
    display: block !important;
    z-index: 2;
}

/* Nó agora é absoluto e com tamanhos diferentes */
.skillNode {
    --node: 86px;
    position: absolute;
    width: var(--node);
    height: var(--node);
    border-radius: 18px;
    display: grid;
    place-items: center;
    gap: 6px;
    padding: 10px;
    transform: translate(-50%, -50%);
}

.skillNode[data-size="minor"] {
    --node: 74px;
}

.skillNode[data-size="major"] {
    --node: 92px;
}

.skillNode[data-size="keystone"] {
    --node: 118px;
    border-radius: 22px;
    background:
        radial-gradient(circle at 30% 25%, rgba(255, 43, 214, 0.16), transparent 58%),
        radial-gradient(circle at 70% 70%, rgba(39, 243, 255, 0.14), transparent 58%),
        rgba(0, 0, 0, 0.38);
    box-shadow:
        0 28px 90px rgba(0, 0, 0, 0.55),
        0 0 0 1px rgba(255, 43, 214, 0.12) inset,
        0 0 40px rgba(255, 43, 214, 0.12),
        0 0 40px rgba(39, 243, 255, 0.08);
}

/* rótulos menores pra não poluir */
.skillNode__name {
    font-size: 9px;
    line-height: 1.15;
    opacity: 0.92;
}

.skillNode__icon {
    font-size: 16px;
}

.skillNode[data-size="keystone"] .skillNode__icon {
    font-size: 20px;
    filter: drop-shadow(0 0 18px rgba(255, 43, 214, 0.16));
}

.skillNode[data-size="keystone"] .skillNode__name {
    font-size: 10px;
}

/* “path highlight” (cadeia de requisitos) */
.skillNode--path {
    outline: 2px solid rgba(39, 243, 255, 0.22);
}

/* Responsivo */
@media (max-width: 860px) {
    #panelSkills {
        width: min(960px, 96vw);
    }

    .skillsLayout {
        grid-template-columns: 1fr;
    }

    .skillsTreeWrap {
        height: min(54vh, 620px);
    }
}
